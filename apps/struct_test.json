{
  "Statement": {
    "Block": [
      {
        "Let": {
          "name": "p",
          "ty": null,
          "value": {
            "StructInit": {
              "fields": [
                [
                  "x",
                  {
                    "Literal": "10"
                  }
                ],
                [
                  "y",
                  {
                    "Literal": "20"
                  }
                ]
              ]
            }
          }
        }
      },
      {
        "Expression": {
          "Call": {
            "function_hash": "print",
            "args": [
              {
                "Literal": "Struct created:"
              },
              {
                "Variable": "p"
              }
            ]
          }
        }
      },
      {
        "Let": {
          "name": "val_x",
          "ty": null,
          "value": {
            "Literal": "{'type': 'get_attr', 'full_path': 'p.x', 'object': {'type': 'var', 'name': 'p'}, 'attr': 'x'}"
          }
        }
      },
      {
        "Expression": {
          "Call": {
            "function_hash": "print",
            "args": [
              {
                "Literal": "Extracted x:"
              },
              {
                "Variable": "val_x"
              }
            ]
          }
        }
      },
      {
        "Let": {
          "name": "val_y",
          "ty": null,
          "value": {
            "Literal": "{'type': 'get_attr', 'full_path': 'p.y', 'object': {'type': 'var', 'name': 'p'}, 'attr': 'y'}"
          }
        }
      },
      {
        "Expression": {
          "Call": {
            "function_hash": "print",
            "args": [
              {
                "Literal": "Extracted y:"
              },
              {
                "Variable": "val_y"
              }
            ]
          }
        }
      },
      {
        "Let": {
          "name": "buf",
          "ty": null,
          "value": {
            "Call": {
              "function_hash": "sys.mem.alloc",
              "args": [
                {
                  "Literal": "5"
                }
              ]
            }
          }
        }
      },
      {
        "Let": {
          "name": "buf",
          "ty": null,
          "value": {
            "Call": {
              "function_hash": "sys.mem.write",
              "args": [
                {
                  "Variable": "buf"
                },
                {
                  "Literal": "0"
                },
                {
                  "Literal": "99"
                }
              ]
            }
          }
        }
      },
      {
        "Let": {
          "name": "wrapper",
          "ty": null,
          "value": {
            "StructInit": {
              "fields": [
                [
                  "b",
                  {
                    "Variable": "buf"
                  }
                ],
                [
                  "id",
                  {
                    "Literal": "1"
                  }
                ]
              ]
            }
          }
        }
      },
      {
        "Expression": {
          "Call": {
            "function_hash": "print",
            "args": [
              {
                "Literal": "Wrapper created with linear buffer."
              }
            ]
          }
        }
      },
      {
        "Let": {
          "name": "buf2",
          "ty": null,
          "value": {
            "Literal": "{'type': 'get_attr', 'full_path': 'wrapper.b', 'object': {'type': 'var', 'name': 'wrapper'}, 'attr': 'b'}"
          }
        }
      },
      {
        "Expression": {
          "Call": {
            "function_hash": "print",
            "args": [
              {
                "Literal": "Buffer extracted. Inspecting:"
              }
            ]
          }
        }
      },
      {
        "Expression": {
          "Call": {
            "function_hash": "sys.mem.inspect",
            "args": [
              {
                "Variable": "buf2"
              }
            ]
          }
        }
      }
    ]
  }
}